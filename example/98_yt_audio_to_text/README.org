- i want to be able to search through all the videos on
  https://www.youtube.com/c/VincentRacaniello/videos with titles like
  this: TWiV 908: COVID-19 clinical update #118 with Dr. Daniel
  Griffin

1. get a list of videos with helium
2. download the audio only
3. apply github.com/openai/whisper

- lets see how far i can get

- solutions
  - 1 done
  - 2
#+begin_example
[martin@localhost source]$ du -hs data
2.9G	data
#+end_example

- install whisper on popos 22 (gpu server)
#+begin_example
ssh slim
sudo apt update && sudo apt install ffmpeg
cd ~/src
pip install git+https://github.com/openai/whisper.git
# 776MB torch 1.12.1
#+end_example

- copy data to server
#+begin_example
rsync -av \
  /home/martin/stage/cl-py-generator/example/98_yt_audio_to_text/source/data \
  slim:/dev/shm/ 
#+end_example

- convert speech to text on server
#+begin_example

ssh slim
cd /dev/shm/
whisper data/0038* --model medium 

# on first call downloads 1.42GB
# memory usage in nvidia-smi
# 62%   74C    P2   172W / 175W |   6070MiB /  8192MiB |
#+end_example

- conversion is quite slow:
#+begin_example
martin@pop-os:/dev/shm$ time whisper data/0038* --model medium 
Detecting language using up to the first 30 seconds. Use `--language` to specify the language
Detected language: English
[00:00.000 --> 00:07.000]  This Week in Virology, the podcast about viruses, the kind that make you sick.
[00:10.360 --> 00:15.000]  From Microbe TV, this is TWIV This Week in Virology,
...
takes too long for me
...
[06:56.360 --> 07:00.760]  And I think this just sort of helps people to get like, how does this move from the news
^CTraceback (most recent call last):
  File "/home/martin/.local/bin/whisper", line 8, in <module>
    sys.exit(cli())
KeyboardInterrupt


real	2m43.113s
user	2m39.057s
sys	0m10.081s

  
#+end_example

- try the smaller model (base should be 8x faster than medium)
#+begin_example 
time whisper data/0038* --model base.en | tee 0038.txt

# downloads 138M on first call

#+end_example
